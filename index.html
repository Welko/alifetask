<!DOCTYPE html>
<html>
<head>
    <title>Title</title>
    <style>
    </style>
</head>
<body>
    <div id="canvasContainer"></div>
    <button onclick="app.update()">Step</button>

    <script type="module">
        import ALifeTask from './src/alifetask.js';

        const width = 512;
        const height = 512;

        window.app = new ALifeTask(width, height);
        app.domElement.style.width = `${width}px`;
        app.domElement.style.height = `${height}px`;
        document.getElementById('canvasContainer').appendChild(app.domElement);

        app.initialize({width, height}).then(() => {
            const mode = 'draw';
            const radius = 5;

            app.domElement.addEventListener('mousedown', (event) => {
                const br = app.domElement.getBoundingClientRect();
                const x = event.clientX - br.left;
                const y = event.clientY - br.top;
                app.brush({ action: 'down', mode, x, y, radius })
            });
        });
    </script>
</body>
</html>